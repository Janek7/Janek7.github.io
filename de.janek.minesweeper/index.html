<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Minesweeper</title>
    <link rel="stylesheet" href="css/main.css" type="text/css">
    <link rel="stylesheet" href="css/game.css" type="text/css">
    <link rel="stylesheet" href="css/header.css" type="text/css">
</head>
<body>

<h1>Minesweeper</h1>
<div id="header">
    <div class="info-box">
        <p class="info-text">Anzahl Minen:</p>
        <p id="mineCounter"></p>
    </div>
    <div class="info-box">
        <p class="info-text">Sekunden:</p>
        <p id="secCounter">0</p>
    </div>
</div>
<table id="gameboard"/>

<script type="application/ecmascript">
    'use strict';

    class Game {

        constructor(height, width, mines) {

            this.fields = [];
            this.height = height;
            this.width = width;
            this.mines = mines;
            this.generateGameboard();
            this.generateHeader();

        }

        generateGameboard() {

            var table = document.getElementById("gameboard");

            for (var rows = 0; rows < this.height; rows++) {
                var row = document.createElement("tr");

                for (var cols = 0; cols < this.width; cols++) {
                    var data = document.createElement("td");
                    var newField = document.createElement("img");
                    this.fields.concat(new Field(newField, rows, cols));
                    data.appendChild(newField);
                    row.appendChild(data);
                }
                table.appendChild(row);
            }

        }

        generateHeader() {
            document.getElementById("mineCounter").innerHTML = this.mines;
            this.updateSeconds();
        }

        updateSeconds() {
            var seconds = 0;
            setInterval(function () {
                seconds++;
                document.getElementById("secCounter").innerHTML = "" + seconds;
            }, 1000);
            //Wird jede Sekunde ausgefÃ¼hrt
        }

    }

    class Field {

        constructor(element, x, y) {

            this.element = element;
            this.pos = new Pos(x, y);
            this.covered = true;
            this.mine = false;

            element.setAttribute("src", "images/field_covered.png");

        }

    }

    class Pos {

        constructor(x, y) {

            this.x = x;
            this.y = y;

        }

    }

    var game = new Game(10,20,10);

</script>
</body>
</html>